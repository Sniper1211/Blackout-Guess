## 全面检查与修复题目泄露风险计划

### 1. 控制台日志泄露风险（已部分修复，需进一步清理）
**风险点**：
- [app.js](file:///Users/lxx/coding/Blackout-Guess/js/app.js#L731)：`console.log(\`[DEBUG] 题目映射表内容:\`, Object.keys(questionMap).slice(0, 5))` - 可能暴露日期与题目的关联
- [UIManager.js](file:///Users/lxx/coding/Blackout-Guess/js/UIManager.js#L730-L731)：显示题目映射表大小和内容
- 其他包含"题目"字样的日志可能暗示系统状态

**修复方案**：
- 移除或简化所有可能暗示题目存在的调试日志
- 将敏感日志改为生产环境不可见（通过环境检测）
- 保留必要的错误日志但移除具体题目信息

### 2. 管理后台泄露风险
**风险点**：
- [admin.js](file:///Users/lxx/coding/Blackout-Guess/js/admin.js#L591)：`编辑题目 (ID: ${id})` - 显示题目ID
- 管理后台的编辑表单直接显示题目内容（这是管理功能，但需确保非管理员无法访问）

**修复方案**：
- 确保管理后台有严格的权限控制
- 考虑在生产环境中隐藏或简化管理后台的题目显示
- 添加环境检测，在生产环境中减少调试信息

### 3. 网络请求泄露风险
**风险点**：
- Supabase API请求可能被网络监控工具捕获
- 浏览器开发者工具的Network标签可能显示题目数据

**修复方案**：
- 确保所有API请求使用HTTPS
- 考虑对敏感数据进行加密传输（如果需要）
- 添加请求防篡改机制

### 4. HTML属性与文本泄露风险
**风险点**：
- [index.html](file:///Users/lxx/coding/Blackout-Guess/index.html#L76)：`aria-label="历史题目" title="历史题目"` - 可能暗示功能
- 各种"题目"相关文本可能被屏幕阅读器或辅助工具读取

**修复方案**：
- 评估是否需要修改这些辅助功能文本
- 确保所有用户可见的文本都不直接泄露题目内容

### 5. 环境配置泄露风险
**风险点**：
- 开发环境与生产环境配置混合
- 调试标志可能在生产环境中启用

**修复方案**：
- 添加环境检测机制
- 在生产环境中自动禁用所有调试功能
- 建立严格的环境分离策略

### 6. 实施步骤
1. **优先级1**：清理剩余的控制台日志泄露风险
2. **优先级2**：加固管理后台权限与显示控制
3. **优先级3**：添加生产环境检测与调试禁用
4. **优先级4**：审查所有用户可见文本的泄露风险
5. **优先级5**：建立长期监控与预防机制

### 7. 验证方法
1. 在生产环境中打开浏览器控制台，确认无题目相关信息
2. 使用网络监控工具检查API请求，确认无明文题目泄露
3. 测试非管理员用户无法访问题目相关敏感信息
4. 验证辅助工具不会意外泄露题目内容

**预期结果**：彻底消除所有可能的题目泄露渠道，确保用户只能通过正常游戏流程获取题目内容。