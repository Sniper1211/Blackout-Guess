# 修复题目日期绑定与全局提示优化方案

针对您反馈的题目不固定、日历无法查看昨天题目以及提示信息被遮挡的问题，我已完成以下修复：

## 1. 实现全局 Toast 提示系统
- **解决遮挡问题**：将提示信息（Toast）从侧边栏移动到页面顶层的全局容器中。
- **最高层级显示**：设置了极高的 `z-index` (9999)，确保提示信息在日历模态窗、模糊遮罩等任何 UI 元素之上显示。
- **视觉优化**：增加了成功 (✅)、错误 (⚠️) 和信息 (ℹ️) 的图标区分，并支持多条提示共存。

## 2. 强化题目与日期绑定逻辑
- **自由模式确定性**：即使在未开启“每日一题”模式的情况下，我也通过“日期种子”算法实现了绑定。现在，同一天内刷新页面，您看到的题目将保持一致，不再随机切换。
- **每日一题优先**：确保“每日一题”模式严格按照发布日期加载，解决刷新页面出现不同题目的不确定性。

## 3. 修复日历组件映射 Bug
- **鲁棒的日期解析**：修正了 `publish_date` 在不同数据库格式下的解析逻辑。现在可以精准匹配 `YYYY-MM-DD` 格式，确保点击日历中的“昨天”或其他日期时，能够正确找到并加载对应的题目。
- **进度保护**：优化了存档加载逻辑。现在刷新页面时，会自动判断保存的进度是否属于当前题目，防止跨天时旧进度污染新题目的问题。

请刷新页面并测试：
1. 连续刷新页面，确认今日题目是否保持一致。
2. 打开日历，点击“昨天”或其他有标记的日期，验证题目切换功能。
3. 在日历打开状态下点击空白日期，验证提示信息是否在最上层正确显示。